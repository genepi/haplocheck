name: MitoCloud
description: A cloud platform to check the quality of mitochondrial data
version: v0.1
 
workflow:

  setups:
    - name: Input Validation
      jar: target/mitocloud.jar
      classname: genepi.mitocloud.steps.InputValidation

  steps:


    - name: Contamination Checker 
      jar: target/mitocloud.jar
      classname: genepi.mitocloud.steps.ContaminationStep
      output: $contaminationReport
      generates: $contaminationReport
      
    - name: Quality Control (Report)
      rmd2: report.Rmd
      params: $contaminationReport
      output: ${qcreport}.html
      generates: $qcreport
            
  inputs:

    - id: files
      description: Input Files (VCF)
      type: local-file
    
    - id: level
      description: Minor Detection Level
      type: text
      visible: true 
      value: 0.01  
      
  outputs:  
   
    - id: contaminationReport
      description: Contamination File
      type: local-file
      download: true
      
    - id: qcreport
      description: Quality-Control Report
      type: local-file
      download: true
      autoExport: true